<!doctype html>
<html amp lang="ru-RU">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
	<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Ограничиваем или отключаем отдельные блоки в редакторе Gutenberg Новый блочный редактор в WordPress 5.0, который в процессе разработки получил имя Gutenberg, приносит с собой множество новых блоков. Помимо 34+ дефолтных блоков, вы можете использовать&#046;&#046;&#046;" />
<meta name="twitter:title" content="Gutenberg: отключаем не нужные блоки | Artstroy - Искусное веб строительство!" />
<meta name="twitter:image" content="https://artstroy.net/wp-content/uploads/Gutenberg_3-780x405.jpg" />
<meta property="og:locale" content="ru_RU" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Gutenberg: отключаем не нужные блоки | Artstroy - Искусное веб строительство!" />
<meta property="og:description" content="Ограничиваем или отключаем отдельные блоки в редакторе Gutenberg Новый блочный редактор в WordPress 5.0, который в процессе разработки получил имя Gutenberg, приносит с собой множество новых блоков. Помимо 34+ дефолтных блоков, вы можете использовать&#046;&#046;&#046;" />
<meta property="og:url" content="https://artstroy.net/gutenberg-otklyuchaem-ne-nuzhnye-bloki/" />
<meta property="og:site_name" content="Artstroy - Искусное веб строительство!" />
<meta property="article:tag" content="гутенберг" />
<meta property="article:tag" content="Плагины" />
<meta property="article:section" content="Плагины" />
<meta property="article:published_time" content="2019-05-09T10:00:46+00:00" />
<meta property="article:modified_time" content="2019-05-09T10:00:49+00:00" />
<meta property="og:updated_time" content="2019-05-09T10:00:49+00:00" />
<meta property="og:image" content="https://artstroy.net/wp-content/uploads/Gutenberg_3-780x405.jpg" />
<meta property="og:image:secure_url" content="https://artstroy.net/wp-content/uploads/Gutenberg_3-780x405.jpg" />
<meta property="og:image:width" content="780" />
<meta property="og:image:height" content="405" />
	<title>Gutenberg: отключаем не нужные блоки | Artstroy - Искусное веб строительство!</title>
		<link rel="canonical" href="/gutenberg-otklyuchaem-ne-nuzhnye-bloki/" />
	<script type='text/javascript' src='https://cdn.ampproject.org/v0.js' async></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic"><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>	<script type="application/ld+json">{"@context":"http:\/\/schema.org","publisher":{"@type":"Organization","name":"Artstroy - \u0418\u0441\u043a\u0443\u0441\u043d\u043e\u0435 \u0432\u0435\u0431 \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e!"},"@type":"Article","mainEntityOfPage":"https:\/\/artstroy.net\/gutenberg-otklyuchaem-ne-nuzhnye-bloki\/","headline":"Gutenberg: \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u044b\u0435 \u0431\u043b\u043e\u043a\u0438","datePublished":"2019-05-09T10:00:46+00:00","dateModified":"2019-05-09T10:00:49+00:00","author":{"@type":"Person","name":"ArtStroy"},"image":{"@type":"ImageObject","url":"https:\/\/artstroy.net\/wp-content\/uploads\/Gutenberg_3-780x405.jpg","width":780,"height":405}}</script>
	<meta name="generator" content="AMP Plugin v1.0.2; mode=classic">	<style amp-custom>
		/* Generic WP styling */

.alignright {
	float: right;
}

.alignleft {
	float: left;
}

.aligncenter {
	display: block;
	margin-left: auto;
	margin-right: auto;
}

.amp-wp-enforced-sizes {
	/** Our sizes fallback is 100vw, and we have a padding on the container; the max-width here prevents the element from overflowing. **/
	max-width: 100%;
	margin: 0 auto;
}

.amp-wp-unknown-size img {
	/** Worst case scenario when we can't figure out dimensions for an image. **/
	/** Force the image into a box of fixed dimensions and use object-fit to scale. **/
	object-fit: contain;
}

/* Template Styles */

.amp-wp-content,
.amp-wp-title-bar div {
		margin: 0 auto;
	max-width: 600px;
	}

html {
	background: #0a89c0;
}

body {
	background: #fff;
	color: #353535;
	font-family: 'Merriweather', 'Times New Roman', Times, Serif;
	font-weight: 300;
	line-height: 1.75em;
}

p,
ol,
ul,
figure {
	margin: 0 0 1em;
	padding: 0;
}

a,
a:visited {
	color: #0a89c0;
}

a:hover,
a:active,
a:focus {
	color: #353535;
}

/* Quotes */

blockquote {
	color: #353535;
	background: rgba(127,127,127,.125);
	border-left: 2px solid #0a89c0;
	margin: 8px 0 24px 0;
	padding: 16px;
}

blockquote p:last-child {
	margin-bottom: 0;
}

/* UI Fonts */

.amp-wp-meta,
.amp-wp-header div,
.amp-wp-title,
.wp-caption-text,
.amp-wp-tax-category,
.amp-wp-tax-tag,
.amp-wp-comments-link,
.amp-wp-footer p,
.back-to-top {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
}

/* Header */

.amp-wp-header {
	background-color: #0a89c0;
}

.amp-wp-header div {
	color: #fff;
	font-size: 1em;
	font-weight: 400;
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: .875em 16px;
	position: relative;
}

.amp-wp-header a {
	color: #fff;
	text-decoration: none;
}

/* Site Icon */

.amp-wp-header .amp-wp-site-icon {
	/** site icon is 32px **/
	background-color: #fff;
	border: 1px solid #fff;
	border-radius: 50%;
	position: absolute;
	right: 18px;
	top: 10px;
}

/* Article */

.amp-wp-article {
	color: #353535;
	font-weight: 400;
	margin: 1.5em auto;
	max-width: 840px;
	overflow-wrap: break-word;
	word-wrap: break-word;
}

/* Article Header */

.amp-wp-article-header {
	align-items: center;
	align-content: stretch;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	margin: 1.5em 16px 0;
}

.amp-wp-title {
	color: #353535;
	display: block;
	flex: 1 0 100%;
	font-weight: 900;
	margin: 0 0 .625em;
	width: 100%;
}

/* Article Meta */

.amp-wp-meta {
	color: #696969;
	display: inline-block;
	flex: 2 1 50%;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0 0 1.5em;
	padding: 0;
}

.amp-wp-article-header .amp-wp-meta:last-of-type {
	text-align: right;
}

.amp-wp-article-header .amp-wp-meta:first-of-type {
	text-align: left;
}

.amp-wp-byline amp-img,
.amp-wp-byline .amp-wp-author {
	display: inline-block;
	vertical-align: middle;
}

.amp-wp-byline amp-img {
	border: 1px solid #0a89c0;
	border-radius: 50%;
	position: relative;
	margin-right: 6px;
}

.amp-wp-posted-on {
	text-align: right;
}

/* Featured image */

.amp-wp-article-featured-image {
	margin: 0 0 1em;
}
.amp-wp-article-featured-image amp-img {
	margin: 0 auto;
}
.amp-wp-article-featured-image.wp-caption .wp-caption-text {
	margin: 0 18px;
}

/* Article Content */

.amp-wp-article-content {
	margin: 0 16px;
}

.amp-wp-article-content ul,
.amp-wp-article-content ol {
	margin-left: 1em;
}

.amp-wp-article-content .wp-caption {
	max-width: 100%;
}

.amp-wp-article-content amp-img {
	margin: 0 auto;
}

.amp-wp-article-content amp-img.alignright {
	margin: 0 0 1em 16px;
}

.amp-wp-article-content amp-img.alignleft {
	margin: 0 16px 1em 0;
}

/* Captions */

.wp-caption {
	padding: 0;
}

.wp-caption.alignleft {
	margin-right: 16px;
}

.wp-caption.alignright {
	margin-left: 16px;
}

.wp-caption .wp-caption-text {
	border-bottom: 1px solid #c2c2c2;
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0;
	padding: .66em 10px .75em;
}

/* AMP Media */

amp-carousel {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}
amp-iframe,
amp-youtube,
amp-instagram,
amp-vine {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}

.amp-wp-article-content amp-carousel amp-img {
	border: none;
}

amp-carousel > amp-img > img {
	object-fit: contain;
}

.amp-wp-iframe-placeholder {
	background: #c2c2c2 url( /wp-content/plugins/amp/assets/images/placeholder-icon.png) no-repeat center 40%;
	background-size: 48px 48px;
	min-height: 48px;
}

/* Article Footer Meta */

.amp-wp-article-footer .amp-wp-meta {
	display: block;
}

.amp-wp-tax-category,
.amp-wp-tax-tag {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 1.5em 16px;
}

.amp-wp-comments-link {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	text-align: center;
	margin: 2.25em 0 1.5em;
}

.amp-wp-comments-link a {
	border-style: solid;
	border-color: #c2c2c2;
	border-width: 1px 1px 2px;
	border-radius: 4px;
	background-color: transparent;
	color: #0a89c0;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 600;
	line-height: 18px;
	margin: 0 auto;
	max-width: 200px;
	padding: 11px 16px;
	text-decoration: none;
	width: 50%;
	-webkit-transition: background-color 0.2s ease;
			transition: background-color 0.2s ease;
}

/* AMP Footer */

.amp-wp-footer {
	border-top: 1px solid #c2c2c2;
	margin: calc(1.5em - 1px) 0 0;
}

.amp-wp-footer div {
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: 1.25em 16px 1.25em;
	position: relative;
}

.amp-wp-footer h2 {
	font-size: 1em;
	line-height: 1.375em;
	margin: 0 0 .5em;
}

.amp-wp-footer p {
	color: #696969;
	font-size: .8em;
	line-height: 1.5em;
	margin: 0 85px 0 0;
}

.amp-wp-footer a {
	text-decoration: none;
}

.back-to-top {
	bottom: 1.275em;
	font-size: .8em;
	font-weight: 600;
	line-height: 2em;
	position: absolute;
	right: 16px;
}
		td, th {
text-align: left;
}

a, a:active, a:visited {
text-decoration: underline;
}
/* Inline stylesheets */
:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-eb9d72f{margin-top:12px;margin-bottom:12px}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-eb9d72f{font-size:12px;line-height:15px}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-fbb711c{font-size:12px;height:18px;line-height:18px}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-6986ee0{min-height:16.8px;line-height:16.8px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a0d0725{-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;tab-size:4}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-a0d0725{font-size:12px;line-height:15px}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-c86a462{font-size:12px;line-height:15px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3c478ad{-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;tab-size:4}:root:not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-3c478ad{font-size:12px;line-height:15px}:root:not(#_):not(#_):not(#_):not(#_):not(#_) .amp-wp-dc251bd{width:auto}	</style>
</head>

<body class="">

<header id="top" class="amp-wp-header">
	<div>
		<a href="/">
									<span class="amp-site-title">
				Artstroy &#8212; Искусное веб строительство!			</span>
		</a>
	</div>
</header>

<article class="amp-wp-article">
	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">Gutenberg: отключаем не нужные блоки</h1>
			<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="https://secure.gravatar.com/avatar/ad9373be8f728ddda30d1b039f115ccf?s=24&#038;d=mm&#038;r=g" alt="ArtStroy" width="24" height="24" layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">ArtStroy</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2019-05-09T12:00:46+00:00">
		3 года ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		
<h2>  <br>Ограничиваем или отключаем отдельные блоки в редакторе Gutenberg </h2>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/Gutenberg_3-780x405.jpg" alt="" class="wp-image-4594 amp-wp-enforced-sizes" srcset="/wp-content/uploads/Gutenberg_3-780x405.jpg 780w, /wp-content/uploads/Gutenberg_3-780x405-640x332.jpg 640w, /wp-content/uploads/Gutenberg_3-780x405-768x399.jpg 768w" sizes="(max-width: 780px) 100vw, 780px" width="780" height="405" layout="intrinsic"></amp-img></figure></div>



<p>Новый блочный редактор в WordPress 5.0, который в процессе разработки получил имя Gutenberg, приносит с собой множество новых блоков.</p>



<p>Помимо 34+ дефолтных блоков, вы можете использовать множество других блоков, добавляемых сторонними плагинами.</p>



<p>Это значит, что потенциально перед вашими глазами могут предстать сотни блоков, которые можно использовать для создания контента внутри нового блочного редактора <a href="https://wordpress.org/plugins/gutenberg/">Gutenberg</a>.</p>



<p>Чтоб помочь вам «приструнить» эти блоки, мы покажем вам, как отключать отдельные Gutenberg-блоки в новом редакторе. Вы можете отключить блоки для всех пользователей, или вы можете отключить Gutenberg-блоки для определённых ролей пользователей, пользовательских аккаунтов, определенных типов записей и т.д. Вам это может пригодиться в следующих случаях:</p>



<ul><li>Если нужно упорядочить интерфейс блокового редактора, убрав блоки, которые вообще не используются.</li><li>Если нужно ограничить типы контента, которые могут создавать другие пользователи. Например, если на вашем сайте работают сторонние авторы, вы, возможно, захотите, чтоб они могли использовать блок для оплаты или что-то другое. Или если вы создаете сайты для клиентов, вы, возможно, не захотите, чтоб те использовали все блоки.</li><li>Если нужно лимитировать типы контента, которые можно включать в определенный тип записи. Например, вам может понадобиться только определенный набор базовых блоков для определенного типа записи.</li></ul><p>Приступим. Давайте начнем с двух простых плагинов, которые позволят вам отключать блоки, а потом мы обсудим, как сделать тоже самое, поработав с кодом.</p>



<h2>Отключаем блоки «Гутенберга» с помощью плагина</h2>



<p>Есть несколько разных плагинов для отключение Gutenberg блоков, но мне больше всего понравились бесплатные плагины <a href="https://wordpress.org/plugins/advanced-gutenberg/">Advanced Gutenberg</a> от JoomUnited и <a href="https://wordpress.org/plugins/disable-gutenberg-blocks/">Disable Gutenberg</a>, который представляет собой более простую и легковесную опцию. Я покажу, как использовать оба плагина.</p>



<h2>Advanced Gutenberg</h2>



<p>Advanced Gutenberg позволяет вам создавать разные профили, определяющие доступность блоков. Чтоб отключить блоки глобально, вы можете назначить профиль для всех пользователей, или вы можете создать уникальные  профили для отдельных пользователей или пользовательских ролей, что позволит изменять доступность блоков в зависимости от того, какой пользователь использует редактор.</p>



<p>Advanced Gutenberg также добавляет собственный набор блоков, но эти блоки также можно отключить.</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-14-02.jpg" alt="" class="wp-image-4595 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-14-02.jpg 1022w, /wp-content/uploads/2019-02-09_08-14-02-640x275.jpg 640w, /wp-content/uploads/2019-02-09_08-14-02-768x330.jpg 768w" sizes="(max-width: 1022px) 100vw, 1022px" width="1022" height="439" layout="intrinsic"></amp-img></figure></div>



<p>Шаг 1: Создайте новый профиль<br>После установки и активации плагина, взятого с WordPress.org, идем в новую вкладку Adv. Gutenberg, которая находится в вашей панели управления WordPress, и кликаем New Profile:</p>



<p>Затем назовем наш профиль и сохраним его:</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-14-32.jpg" alt="" class="wp-image-4596 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-14-32.jpg 1017w, /wp-content/uploads/2019-02-09_08-14-32-640x231.jpg 640w, /wp-content/uploads/2019-02-09_08-14-32-768x277.jpg 768w" sizes="(max-width: 1017px) 100vw, 1017px" width="1017" height="367" layout="intrinsic"></amp-img></figure></div>



<p>Шаг 2: выберете к какому пользователю применить свежесозданный профиль<br>Теперь идем в Profile Attribution. Здесь вы можете выбрать, какие пользователи смогут использовать данный профиль</p>



<p>Здесь вы также можете выбрать определенные:</p>



<ul><li>Пользовательские аккаунты</li><li>Пользовательские роли</li></ul><p>Либо вы можете выбрать оба варианта:</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-14-48.jpg" alt="" class="wp-image-4597 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-14-48.jpg 1017w, /wp-content/uploads/2019-02-09_08-14-48-640x400.jpg 640w, /wp-content/uploads/2019-02-09_08-14-48-768x480.jpg 768w" sizes="(max-width: 1017px) 100vw, 1017px" width="1017" height="636" layout="intrinsic"></amp-img></figure></div>



<p>Если вы хотите отключить блоки для всех пользователей, вы можете выбрать все пользовательские роли и применить этот профиль глобально.</p>



<p>Шаг 3: выберите блоки, которые хотите отключить<br>Чтоб выбрать блоки, доступные пользователям в этом профиле, откройте Blocks List. По умолчанию все блоки включены, но с помощью кнопочек-ползунков вы можете отключить любые блоки.</p>



<p>Помимо собственных и дефолтных блоков, Advanced Gutenberg также покажет блоки, добавленные плагинами. Все блоки разделены на те же секции, которые вы видите в Block Inserter во время использования редактора.</p>



<p>Например, вот как выглядит отключение блоков, который добавил плагин Stackable:</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-15-11.jpg" alt="" class="wp-image-4598 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-15-11.jpg 1002w, /wp-content/uploads/2019-02-09_08-15-11-640x383.jpg 640w, /wp-content/uploads/2019-02-09_08-15-11-768x459.jpg 768w" sizes="(max-width: 1002px) 100vw, 1002px" width="1002" height="599" layout="intrinsic"></amp-img></figure></div>



<h2>Disable Gutenberg Blocks</h2>



<p>Disable Gutenberg Blocks – это еще один плагин, который поможет вам отключить блоки Гутенберга. В отличии от Advanced Gutenberg, он призван только лишь отключать блоки, что делает его более легковестным, если это для вас важно.</p>



<p>Как бы то ни было, вы сможете только отключить блоки глобально. Нет никакой возможности сделать это для  определенных пользователей, как это было с  Advanced Gutenberg.</p>



<p>Устанавливаем и активируем плагин, с помощью WordPress.org, потом идем в  Settings → Disable Blocks и начинаем его использовать</p>



<p>Чтоб отключить какие-либо блоки, просто кликаем Disable напротив нужных:</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-15-32.jpg" alt="" class="wp-image-4599 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-15-32.jpg 944w, /wp-content/uploads/2019-02-09_08-15-32-640x405.jpg 640w, /wp-content/uploads/2019-02-09_08-15-32-768x487.jpg 768w" sizes="(max-width: 944px) 100vw, 944px" width="944" height="598" layout="intrinsic"></amp-img></figure></div>



<p>Вы также можете использовать массовое отключение блоков, доступное по средством выпадающего меню и чекбоксов.</p>



<p>Отключенные блоки становятся серыми.</p>



<div class="wp-block-image"><figure class="aligncenter"><amp-img src="/wp-content/uploads/2019-02-09_08-15-49.jpg" alt="" class="wp-image-4600 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-15-49.jpg 997w, /wp-content/uploads/2019-02-09_08-15-49-640x352.jpg 640w, /wp-content/uploads/2019-02-09_08-15-49-768x422.jpg 768w" sizes="(max-width: 997px) 100vw, 997px" width="997" height="548" layout="intrinsic"></amp-img></figure></div>



<h2>Как отключить блоки блочного редактора Gutenberg используя собственный код</h2>



<p>Если вы не хотите использовать для отключения блоков редактора плагины, то можете сделать работу вручную с помощью собственного кода, используя фильтр, корректирующий доступность типов блоков.</p>



<p>Код нужно вставить в functions.php вашей дочерней темы, или вы можете использовать плагин типа Code Snippets,  который позволяет управлять кодом. Или вы даже можете создать кастомный плагин.</p>



<p>Метод таков: вместо того, чтоб перечислять блоки, которые нужно отключить, просто нужно указать блоки, которые нужно оставить включенными, а все остальное отключиться само.</p>



<p>Вот базовый кодовый сниппет, который мы будем использовать:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-626ef99d9b048270604377" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate amp-wp-eb9d72f" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar amp-wp-fbb711c" data-settings=" mouseover overlay hide delay"><span class="crayon-title"></span>
			<div class="crayon-tools amp-wp-fbb711c"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info amp-wp-6986ee0"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no amp-wp-a0d0725" data-settings="dblclick" readonly>
function my_allowed_block_types( $allowed_block_types, $post ) {
return array(
'core/paragraph'
);
}
add_filter( 'allowed_block_types', 'my_allowed_block_types');</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content amp-wp-c86a462"><div class="crayon-num" data-line="crayon-626ef99d9b048270604377-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b048270604377-2">2</div><div class="crayon-num" data-line="crayon-626ef99d9b048270604377-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b048270604377-4">4</div><div class="crayon-num" data-line="crayon-626ef99d9b048270604377-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b048270604377-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre amp-wp-3c478ad"><div class="crayon-line" id="crayon-626ef99d9b048270604377-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">my_allowed_block_types</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">allowed_block_types</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">post</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b048270604377-2"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">array</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-626ef99d9b048270604377-3"><span class="crayon-s">'core/paragraph'</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b048270604377-4"><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-626ef99d9b048270604377-5"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b048270604377-6"><span class="crayon-e">add_filter</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'allowed_block_types'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'my_allowed_block_types'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr></table></div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->




<p>В нашем пример будет включен только блок «параграф», а остальные отключатся автоматически.</p>



<p>Чтоб включить больше блоков, просто добавьте блоковые слаги в диапазон, как в примере:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-626ef99d9b05c110110075" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate amp-wp-eb9d72f" data-settings=" minimize scroll-mouseover">
		
			<div class="crayon-toolbar amp-wp-fbb711c" data-settings=" mouseover overlay hide delay"><span class="crayon-title"></span>
			<div class="crayon-tools amp-wp-fbb711c"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info amp-wp-6986ee0"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no amp-wp-a0d0725" data-settings="dblclick" readonly>
function my_allowed_block_types( $allowed_block_types, $post ) {
return array(
'core/paragraph',
'core/image',
'core/heading',
'ugb/button'
);
}
add_filter( 'allowed_block_types', 'my_allowed_block_types');</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table"><tr class="crayon-row"><td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content amp-wp-c86a462"><div class="crayon-num" data-line="crayon-626ef99d9b05c110110075-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b05c110110075-2">2</div><div class="crayon-num" data-line="crayon-626ef99d9b05c110110075-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b05c110110075-4">4</div><div class="crayon-num" data-line="crayon-626ef99d9b05c110110075-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b05c110110075-6">6</div><div class="crayon-num" data-line="crayon-626ef99d9b05c110110075-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-626ef99d9b05c110110075-8">8</div><div class="crayon-num" data-line="crayon-626ef99d9b05c110110075-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre amp-wp-3c478ad"><div class="crayon-line" id="crayon-626ef99d9b05c110110075-1"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">my_allowed_block_types</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-v">allowed_block_types</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-i">post</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b05c110110075-2"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">array</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-626ef99d9b05c110110075-3"><span class="crayon-s">'core/paragraph'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b05c110110075-4"><span class="crayon-s">'core/image'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-626ef99d9b05c110110075-5"><span class="crayon-s">'core/heading'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b05c110110075-6"><span class="crayon-s">'ugb/button'</span></div><div class="crayon-line" id="crayon-626ef99d9b05c110110075-7"><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-626ef99d9b05c110110075-8"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-626ef99d9b05c110110075-9"><span class="crayon-e">add_filter</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-s">'allowed_block_types'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'my_allowed_block_types'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr></table></div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->




<p> Чтоб найти слаги блоков, которые нужно включить в диапазон, вы можете использовать Gutenberg редактор кода. К примеру, слаг для блока плагина Stackable, который называется  Button — это ugb/button: </p>



<figure class="wp-block-image amp-wp-dc251bd"><amp-img src="/wp-content/uploads/2019-02-09_08-16-05.jpg" alt="" class="wp-image-4601 amp-wp-enforced-sizes" srcset="/wp-content/uploads/2019-02-09_08-16-05.jpg 944w, /wp-content/uploads/2019-02-09_08-16-05-640x405.jpg 640w, /wp-content/uploads/2019-02-09_08-16-05-768x486.jpg 768w" sizes="(max-width: 944px) 100vw, 944px" width="944" height="597" layout="intrinsic"></amp-img></figure><p>При желании можно продолжить модифицировать базовый кодовый сниппет, чтоб можно было применить фильтр к определенным типам записей.</p>



<p>В том случае, если вы решили вообще не использовать Гутенберг на своем сайте, прочитайте <a href="/gutenberg-kak-otklyuchit/">статью о том, как правильно его отключить</a> вовсе в последней редакции WordPress.</p>
<p><a href="//www.pinterest.com/pin/create/button/" data-pin-do="buttonBookmark" data-pin-color="red" data-pin-height="128"><amp-img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_red_28.png" width="56" height="28" class="amp-wp-enforced-sizes" layout="intrinsic"></amp-img></a></p>	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: <a href="/category/wordpress/kastomizaciya/" rel="category tag">Кастомизация</a>, <a href="/category/wordpress/plagini/" rel="category tag">Плагины</a>	</div>

	<div class="amp-wp-meta amp-wp-tax-tag">
		Tags: <a href="/tag/gutenberg/" rel="tag">гутенберг</a>, <a href="/tag/plaginy/" rel="tag">Плагины</a>	</div>
		<div class="amp-wp-meta amp-wp-comments-link">
		<a href="/gutenberg-otklyuchaem-ne-nuzhnye-bloki/#respond">
			Leave a Comment		</a>
	</div>
	</footer>
</article>

<footer class="amp-wp-footer">
	<div>
		<h2>Artstroy &#8212; Искусное веб строительство!</h2>
		<p>
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
		</p>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>



</body>
</html>